{% extends "base.html" %}
{% load datagrid djblets_utils i18n %}

{% block title %}{% trans "Search Review Requests" %}{% endblock %}

<!-- TODO: highlight search terms in summaries/excerpts -->

{% block content %}
<div id="search_results">
{%  if hits_returned == 0 %}
{%   trans "No review requests matching your query" %}: <b>{{query}}</b>
{%  else %}
 <div class="search-results-stats">
{%   blocktrans %}
 <b>{{hits_returned}}</b> results for <b>{{query}}</b>
{%   endblocktrans %}
 </div>
{%   if total_hits > hits_returned %}
({% trans "Additional results exist but are not returned. If you do not see the review request you're looking for, try making your query more specific." %})
{%   endif %}
{%  endif %}
 <br /><br />
 <form method="get" action=".">
{%  for result in page.object_list %}
{%   if result.content_type == "reviews.reviewrequest" %}
{%    include "search/_review_request.html" %}
{%   elif result.content_type == "auth.user" %}
{%    include "search/_user.html" %}
{%   endif %}
{%  endfor %}

{%  if is_paginated %}
  <div class="paginator">
{%   if show_first_page %}
   <a href="?q={{query}}&amp;page=1">&laquo; {% trans "First Page" %}</a>
{%   endif %}
{%   if page.has_previous %}
   <a href="?q={{query}}&amp;page={{page.previous_page_number}}">&lt; {% trans "Previous" %}</a>
{%   endif %}

{%   for pagenum in page_numbers %}
{%    if page.number == pagenum %}
   <b>{{pagenum}}</b>
{%    else %}
   <a href="?q={{query}}&amp;page={{pagenum}}">{{pagenum}}</a>
{%    endif %}
{%   endfor %}

{%   if page.has_next %}
   <a href="?q={{query}}&amp;page={{page.next_page_number}}">{% trans "Next" %} &gt;</a>
{%   endif %}
{%   if show_last_page %}
   <a href="?q={{query}}&amp;page={{pages}}">{% trans "Last Page" %} &raquo;</a>
{%   endif %}
  </div>
{%  endif %}
 </form>
</div>
{% endblock %}
